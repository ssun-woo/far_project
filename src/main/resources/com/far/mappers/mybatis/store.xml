<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
 PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
 <mapper namespace="STORE">
 	
 	<select id="get_detailCateList" resultType="store">
 		select * from store where detail_cate = #{detail_cate}
 	</select>
 	
 	<select id="detail_cate_count" resultType="int">
 		select count(*) from store where detail_cate = #{detail_cate}
 	</select>
 	
 	<select id="store_info" resultType="store">
 		select * from store where store_num = #{store_num}
 	</select>
 	
 	<select id="get_stores" resultType="store">
 		select * from store where mem_id = #{id}
 	</select>
 	
 	<insert id="store_in">
       insert into store(storeNum, cate, detailCate, storeName, storeIntro, storeAddr1, storeAddr2, regNum, storeLogo, memId)
        values(#{storeNum},#{cate},#{detailCate},#{storeName},#{storeIntro},#{storeAddr1},#{storeAddr2},#{regNum},#{storeLogo}, #{memId}) 
    </insert>
    
    <select id="store_notPermit" resultType="List">
    	select * from store where auth = 0
    </select>
    
    <select id="get_menu_list" resultType="Menu">
 		select * from menu where store_num = #{s_num}
 	</select>
 	
 	<select id="get_store" resultType="store">
 		select * from store where store_num = #{s_num}
 	</select>
 	
 	<select id="get_menu" resultType="Menu">
 		select * from menu where menu_id = #{menu_id}
 	</select>
 	
 </mapper>
 